(()=>{var e={};e.id=140,e.ids=[140],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},49059:(e,s,a)=>{"use strict";a.r(s),a.d(s,{GlobalError:()=>i.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>c,routeModule:()=>h,tree:()=>d}),a(82740),a(90596),a(77564),a(35866);var r=a(23191),t=a(88716),n=a(37922),i=a.n(n),l=a(95231),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);a.d(s,o);let d=["",{children:["admin",{children:["settings",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,82740)),"/Users/kaushalbhatt/Downloads/kaushal_portfolio/app/app/admin/settings/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,90596)),"/Users/kaushalbhatt/Downloads/kaushal_portfolio/app/app/admin/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,77564)),"/Users/kaushalbhatt/Downloads/kaushal_portfolio/app/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,35866,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/kaushalbhatt/Downloads/kaushal_portfolio/app/app/admin/settings/page.tsx"],m="/admin/settings/page",u={require:a,loadChunk:()=>Promise.resolve()},h=new r.AppPageRouteModule({definition:{kind:t.x.APP_PAGE,page:"/admin/settings/page",pathname:"/admin/settings",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},10381:(e,s,a)=>{Promise.resolve().then(a.bind(a,33351))},33351:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>f});var r=a(10326),t=a(77109),n=a(17577),i=a(4891),l=a(86333),o=a(79635),d=a(9015),c=a(31215),m=a(33071),u=a(90772),h=a(54432),p=a(31048),x=a(35047),w=a(40381);function f(){let{data:e}=(0,t.useSession)(),s=(0,x.useRouter)(),[a,f]=(0,n.useState)(!1),[g,b]=(0,n.useState)({name:"",email:"",currentPassword:"",newPassword:"",confirmPassword:""}),v=async e=>{if(e.preventDefault(),g.newPassword&&g.newPassword!==g.confirmPassword){w.ZP.error("New passwords do not match");return}if(g.newPassword&&g.newPassword.length<6){w.ZP.error("New password must be at least 6 characters long");return}if(g.newPassword&&!g.currentPassword){w.ZP.error("Current password is required to change password");return}f(!0);try{console.log("Submitting form data:",{name:g.name,hasCurrentPassword:!!g.currentPassword,hasNewPassword:!!g.newPassword});let e=await fetch("/api/admin/profile",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:g.name,currentPassword:g.currentPassword,newPassword:g.newPassword})}),s=await e.json();if(console.log("Response data:",s),e.ok&&s.success){let e=s.message||"Profile updated successfully";w.ZP.success(e),console.log("Success:",e),b(e=>({...e,currentPassword:"",newPassword:"",confirmPassword:""}))}else{let a=s.error||`Failed to update profile (${e.status})`;w.ZP.error(a),console.error("Update failed:",a,s)}}catch(e){console.error("Error updating profile:",e),w.ZP.error("Network error: Failed to update profile")}finally{f(!1)}},j=e=>{b({...g,[e.target.name]:e.target.value})};return void 0===e?r.jsx("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-400",children:"Loading..."})]})}):e?r.jsx("div",{className:"min-h-screen bg-slate-900",children:(0,r.jsxs)("div",{className:"max-w-4xl mx-auto p-6",children:[(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsxs)(u.z,{variant:"ghost",onClick:()=>s.back(),className:"text-white hover:bg-slate-800 mb-4",children:[r.jsx(l.Z,{className:"mr-2 h-4 w-4"}),"Back"]}),r.jsx("h1",{className:"text-3xl font-bold text-white",children:"Admin Settings"}),r.jsx("p",{className:"text-slate-400 mt-2",children:"Manage your admin profile and preferences"})]}),r.jsx("div",{className:"grid gap-6",children:r.jsx(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:(0,r.jsxs)(m.Zb,{className:"bg-slate-800 border-slate-700",children:[r.jsx(m.Ol,{children:(0,r.jsxs)(m.ll,{className:"text-white flex items-center",children:[r.jsx(o.Z,{className:"mr-2 h-5 w-5"}),"Profile Information"]})}),r.jsx(m.aY,{children:(0,r.jsxs)("form",{onSubmit:v,className:"space-y-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[r.jsx(p._,{htmlFor:"name",className:"text-white",children:"Name"}),r.jsx(h.I,{id:"name",name:"name",type:"text",value:g.name,onChange:j,className:"bg-slate-700 border-slate-600 text-white",placeholder:"Your name"})]}),(0,r.jsxs)("div",{children:[r.jsx(p._,{htmlFor:"email",className:"text-white",children:"Email"}),r.jsx(h.I,{id:"email",name:"email",type:"email",value:g.email,onChange:j,className:"bg-slate-700 border-slate-600 text-white",placeholder:"Your email",disabled:!0})]})]}),(0,r.jsxs)("div",{className:"border-t border-slate-700 pt-4 mt-6",children:[(0,r.jsxs)("h3",{className:"text-white font-semibold mb-4 flex items-center",children:[r.jsx(d.Z,{className:"mr-2 h-4 w-4"}),"Change Password"]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{children:[r.jsx(p._,{htmlFor:"currentPassword",className:"text-white",children:"Current Password"}),r.jsx(h.I,{id:"currentPassword",name:"currentPassword",type:"password",value:g.currentPassword,onChange:j,className:"bg-slate-700 border-slate-600 text-white",placeholder:"Current password"})]}),(0,r.jsxs)("div",{children:[r.jsx(p._,{htmlFor:"newPassword",className:"text-white",children:"New Password"}),r.jsx(h.I,{id:"newPassword",name:"newPassword",type:"password",value:g.newPassword,onChange:j,className:"bg-slate-700 border-slate-600 text-white",placeholder:"New password"})]}),(0,r.jsxs)("div",{children:[r.jsx(p._,{htmlFor:"confirmPassword",className:"text-white",children:"Confirm Password"}),r.jsx(h.I,{id:"confirmPassword",name:"confirmPassword",type:"password",value:g.confirmPassword,onChange:j,className:"bg-slate-700 border-slate-600 text-white",placeholder:"Confirm password"})]})]})]}),r.jsx("div",{className:"flex justify-end pt-4",children:r.jsx(u.z,{type:"submit",disabled:a,className:"bg-blue-600 hover:bg-blue-700 text-white",children:a?(0,r.jsxs)(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Saving..."]}):(0,r.jsxs)(r.Fragment,{children:[r.jsx(c.Z,{className:"mr-2 h-4 w-4"}),"Save Changes"]})})})]})})]})})})]})}):r.jsx("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("h1",{className:"text-2xl font-bold text-white mb-4",children:"Authentication Required"}),r.jsx("p",{className:"text-gray-400 mb-6",children:"Please sign in to access admin settings."})]})})}},54432:(e,s,a)=>{"use strict";a.d(s,{I:()=>i});var r=a(10326),t=a(17577),n=a(77863);let i=t.forwardRef(({className:e,type:s,...a},t)=>r.jsx("input",{type:s,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:t,...a}));i.displayName="Input"},31048:(e,s,a)=>{"use strict";a.d(s,{_:()=>d});var r=a(10326),t=a(17577),n=a(34478),i=a(28671),l=a(77863);let o=(0,i.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=t.forwardRef(({className:e,...s},a)=>r.jsx(n.f,{ref:a,className:(0,l.cn)(o(),e),...s}));d.displayName=n.f.displayName},9015:(e,s,a)=>{"use strict";a.d(s,{Z:()=>r});let r=(0,a(62881).Z)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},31215:(e,s,a)=>{"use strict";a.d(s,{Z:()=>r});let r=(0,a(62881).Z)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},79635:(e,s,a)=>{"use strict";a.d(s,{Z:()=>r});let r=(0,a(62881).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},82740:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>r});let r=(0,a(68570).createProxy)(String.raw`/Users/kaushalbhatt/Downloads/kaushal_portfolio/app/app/admin/settings/page.tsx#default`)},34478:(e,s,a)=>{"use strict";a.d(s,{f:()=>l});var r=a(17577),t=a(45226),n=a(10326),i=r.forwardRef((e,s)=>(0,n.jsx)(t.WV.label,{...e,ref:s,onMouseDown:s=>{s.target.closest("button, input, select, textarea")||(e.onMouseDown?.(s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));i.displayName="Label";var l=i},45226:(e,s,a)=>{"use strict";a.d(s,{WV:()=>l,jH:()=>o});var r=a(17577),t=a(60962),n=a(34214),i=a(10326),l=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((e,s)=>{let a=r.forwardRef((e,a)=>{let{asChild:r,...t}=e,l=r?n.g7:s;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,i.jsx)(l,{...t,ref:a})});return a.displayName=`Primitive.${s}`,{...e,[s]:a}},{});function o(e,s){e&&t.flushSync(()=>e.dispatchEvent(s))}}};var s=require("../../../webpack-runtime.js");s.C(e);var a=e=>s(s.s=e),r=s.X(0,[276,263,716,61],()=>a(49059));module.exports=r})();